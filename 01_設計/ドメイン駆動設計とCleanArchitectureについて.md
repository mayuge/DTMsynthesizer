# ドメイン駆動設計とクリーンアーキテクチャ

- ファイル同士の役割分担だけではなく依存方向を揃えるために考えられたモダンな設計
- ドメイン駆動設計を実現するために、ヘキサゴナルアーキテクチャ、オニオンアーキテクチャ、クリーンアーキテクチャなどが生まれた。

## ドメイン駆動設計単体で調べると抽象的なことしか書いていない記事が多い

- ドメインとは何かみたいな説明があるが、実現したいサービスをオブジェクト志向（変数 → パラメータ・関数 → ロジック）的に解釈してあてはめて考えろ的なことが書いてある。
- TypeScript では、interface を利用して変数と関数を規定し、それに準じる形で設計を行う。
- 「ドメイン駆動設計　アーキテクチャ」と調べると具体的な実装方法が書かれている

## SOLID 原則

## 分割することは設計の基本

- うまく分割できれば、コードが短くなるし楽。理想ではある。だが難しい。
- １、役割による分割
- ２、変数と関数の配置方法
- こいつらは、結局フォルダ、ファイル、クラスの構造をどうするのかという問題に帰結する
- どういう基準で分割するかで揉めがち、あいまいになって最悪になりがち。

## 従来の MVC モデルの弱点を補うための依存性逆転の法則

- 内部ロジックが直接外部ロジックに依存してしまうと、外部ロジックの切り替えが難しくなる。そのため、依存方向を外部ロジックに向けないことが必要になる。
- そのためにアダプター関数を用意し、ドメイン領域が持つ interface を挟んであげることで解決する。
- 最近は依存性逆転ではなく、引数として依存性注入が流行っているらしい。個人的にはオールドスタイルな方が好き。

## ヘキサゴナルアーキテクチャにおけるアダプター関数は、明確で効果がわかりやすい。

- 外部ロジックが嫌なら、内部ロジックにしてしまえばよい。
- 引数、返り値の型をガチガチに固めてアダプターを通して直接触れないようにすれば、あたかも内部ロジックかのように外部ロジックを扱える

## 実装例
